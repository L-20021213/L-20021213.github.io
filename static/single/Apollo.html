<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Apollo - 全参数动态闪光灯曝光计算器</title><link rel="icon" type="image/ico" href="https://cdn.siax.cn/npm/picture-sianx@1.1.2/img/6945257127.png"><script src="https://cdn.tailwindcss.com"></script><link href="https://cdn.siax.cn/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet"><script>tailwind.config={theme:{extend:{colors:{primary:"#165DFF",secondary:"#64748B",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",neutral:"#F1F5F9",dark:"#1E293B"},fontFamily:{inter:["Inter","system-ui","sans-serif"]}}}}</script><style type="text/tailwindcss">@layer utilities {
            .input-focus {
                @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
            }
            .card-shadow {
                @apply shadow-lg shadow-gray-100/80;
            }
            .transition-all-300 {
                @apply transition-all duration-300 ease-in-out;
            }
            .status-border-success {
                @apply border-success ring-2 ring-success/20;
            }
            .status-border-warning {
                @apply border-warning ring-2 ring-warning/20;
            }
            .status-border-danger {
                @apply border-danger ring-2 ring-danger/20;
            }
            .recently-updated {
                @apply border-primary animate-pulse;
            }
            .param-pill {
                @apply bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm flex items-center gap-2;
            }
            .input-warning {
                @apply border-warning focus:border-warning focus:ring-warning/20;
            }
            .param-prefix {
                @apply font-bold text-gray-500;
            }
            
            /* 双按钮 Pill 样式 */
            .pill-toggle {
                @apply inline-flex rounded-full overflow-hidden border border-gray-200;
            }
            .pill-button {
                @apply px-4 py-1.5 text-sm font-medium transition-all duration-200 ease-in-out cursor-pointer;
            }
            .pill-button:first-child {
                @apply rounded-l-full;
            }
            .pill-button:last-child {
                @apply rounded-r-full;
            }
            .pill-button:not(.active) {
                @apply bg-white text-gray-600 hover:bg-gray-50;
            }
            .pill-button.active {
                @apply bg-primary text-white hover:bg-primary/90;
            }
            .pill-button:focus {
                @apply outline-none ring-2 ring-primary/30;
            }
            
            /* 输入框和按钮动画 */
            .form-group input {
                @apply transition-all duration-200 ease-in-out;
            }
            .form-group input:hover:not(:focus) {
                @apply border-gray-400;
            }
            .btn-hover-effect {
                @apply transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200;
            }
            
            /* 参数范围提示样式 */
            .param-range-section {
                @apply mt-8 p-5 bg-gray-50 rounded-xl border border-gray-200;
            }
            .range-table {
                @apply w-full text-sm;
            }
            .range-table th {
                @apply py-3 px-2 text-left text-gray-700 font-semibold;
            }
            .range-table td {
                @apply py-2 px-2 text-gray-600 border-t border-gray-100;
            }
            .range-table tr:hover td {
                @apply bg-gray-50;
            }
        }</style></head><body class="bg-gray-50 font-inter text-dark min-h-screen"><div class="max-w-2xl mx-auto px-4 py-8"><div class="bg-white rounded-xl p-6 md:p-8 card-shadow transition-all duration-300 hover:shadow-xl"><div class="text-center mb-8"><h1 class="text-[clamp(1.5rem,3vw,2.25rem)] font-bold text-dark mb-2"><i class="fa fa-sun-o text-warning mr-2"></i> Apollo <span class="block text-[clamp(1rem,2vw,1.5rem)] mt-1">全参数动态闪光灯曝光计算器</span></h1><p class="text-gray-500">调整任何参数，其他参数将实时自动优化</p></div><div class="mb-6 p-4 bg-primary/5 rounded-lg border border-primary/10"><p class="text-sm text-primary flex items-center"><i class="fa fa-info-circle mr-2"></i> 所有参数均可直接调整，系统会自动保持曝光平衡，最近调整的参数会高亮显示</p></div><div class="space-y-6"><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="form-group relative"><label for="gn" class="block text-sm font-medium text-gray-700 mb-1.5">闪光指数（GN值）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-lightbulb-o"></i></span> <input type="number" id="gn" min="1" max="100" step="0.1" value="12" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：12.5"></div><p class="text-xs text-gray-500 mt-1">常用范围：10-60，支持一位小数</p></div><div class="form-group relative"><label for="power" class="block text-sm font-medium text-gray-700 mb-1.5">闪光灯灯功率（%）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-tachometer"></i></span> <input type="number" id="power" min="1" max="100" step="1" value="100" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：50"> <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">%</span></div><div id="powerWarning" class="text-xs text-warning mt-1 hidden"><i class="fa fa-exclamation-circle"></i> 功率范围仅限1-100%，已自动修正</div></div><div class="form-group relative"><label for="distance" class="block text-sm font-medium text-gray-700 mb-1.5">拍摄距离（米）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-arrows-h"></i></span> <input type="number" id="distance" min="0.1" max="20" step="0.1" value="2" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：3.5"> <span class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-500">m</span></div><p class="text-xs text-gray-500 mt-1">常用范围：0.5-10米，支持一位小数</p></div><div class="form-group relative"><label for="iso" class="block text-sm font-medium text-gray-700 mb-1.5">ISO值</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3"><span class="param-prefix">ISO</span></span> <input type="number" id="iso" min="100" max="6400" step="100" value="100" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：400"></div><p class="text-xs text-gray-500 mt-1">建议范围：100-3200，步进100</p></div><div class="form-group relative"><label for="shutter" class="block text-sm font-medium text-gray-700 mb-1.5">快门速度</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-clock-o"></i></span> <input type="number" id="shutter" min="1" max="30000" step="1" value="250" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：250"><div class="absolute inset-y-0 right-0 flex items-center pr-3"><div class="pill-toggle" role="group" aria-label="快门模式选择"><button id="shutterFractionBtn" class="pill-button active" aria-pressed="true">1/x秒</button> <button id="shutterSecondBtn" class="pill-button" aria-pressed="false">x秒</button></div></div></div><div id="syncWarning" class="text-xs text-danger mt-1 hidden"><i class="fa fa-exclamation-triangle"></i> 超过多数相机同步速度（1/250s）</div><div id="tripodWarning" class="text-xs text-warning mt-1 hidden"><i class="fa fa-camera"></i> 建议使用三脚架（慢于1/30s）</div></div><div class="form-group relative"><label for="aperture" class="block text-sm font-medium text-gray-700 mb-1.5">光圈值（f/）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-circle-o"></i></span> <input type="number" id="aperture" min="0.7" max="32" step="0.1" value="2.8" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：2.8"></div><p class="text-xs text-gray-500 mt-1">支持一位小数，常用范围：f/1.8-f/16</p></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="form-group"><label for="minAperture" class="block text-sm font-medium text-gray-700 mb-1.5">最小光圈限制（f/）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-compress"></i></span> <input type="number" id="minAperture" min="0.7" max="32" step="0.1" value="1.8" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：1.8"></div><p class="text-xs text-gray-500 mt-1">镜头最大光圈（数值越小光圈越大）</p></div><div class="form-group"><label for="maxAperture" class="block text-sm font-medium text-gray-700 mb-1.5">最大光圈限制（f/）</label><div class="relative"><span class="absolute inset-y-0 left-0 flex items-center pl-3 text-gray-500"><i class="fa fa-expand"></i></span> <input type="number" id="maxAperture" min="0.7" max="32" step="0.1" value="16" class="w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg input-focus" placeholder="例如：16"></div><p class="text-xs text-gray-500 mt-1">镜头最小光圈（数值越大光圈越小）</p></div></div><button id="resetBtn" class="w-full bg-gray-200 hover:bg-gray-300 text-dark font-medium py-3 px-4 rounded-lg transition-all-300 flex items-center justify-center gap-2 btn-hover-effect"><i class="fa fa-refresh"></i> <span>重置所有参数</span></button><div class="result bg-neutral rounded-xl p-6 text-center transition-all-300 hover:shadow-md"><h2 class="text-lg font-semibold text-gray-700 mb-4">Apollo 曝光状态</h2><div id="exposureStatus" class="text-[clamp(1.5rem,4vw,2.5rem)] font-bold text-success">曝光平衡</div><div class="flex flex-wrap justify-center gap-3 my-4"><div class="param-pill"><i class="fa fa-circle-o text-primary"></i> <span><strong>光圈：</strong><span id="currentApertureDisplay">f/2.8</span></span></div><div class="param-pill"><i class="fa fa-clock-o text-primary"></i> <span><strong>快门：</strong><span id="currentShutterDisplay">1/250s</span></span></div><div class="param-pill"><span class="param-prefix text-primary">ISO</span> <span><strong>：</strong><span id="currentIsoDisplay">100</span></span></div><div class="param-pill"><i class="fa fa-arrows-h text-primary"></i> <span><strong>距离：</strong><span id="currentDistanceDisplay">2.0米</span></span></div><div class="param-pill"><i class="fa fa-tachometer text-primary"></i> <span><strong>功率：</strong><span id="currentPowerDisplay">100%</span></span></div></div><div id="exposureDetails" class="text-sm text-gray-600 mt-2">所有参数已优化至平衡状态</div></div><div class="p-4 bg-blue-50 rounded-lg border border-blue-100"><h3 class="font-medium text-primary mb-2 flex items-center"><i class="fa fa-info-circle mr-2"></i> Apollo 动态调整说明</h3><p class="text-sm text-gray-600">曝光公式：光圈 = 闪光指数 × 功率系数 ÷ 距离 × √(ISO/100) × √(基准快门/实际快门)</p><p class="text-xs text-gray-500 mt-1">调整任一参数时，系统会优先调整对画面影响较小的参数（功率 > ISO > 距离 > 快门 > 光圈）</p></div><div class="param-range-section"><h3 class="font-semibold text-gray-800 mb-4 flex items-center"><i class="fa fa-book text-primary mr-2"></i> Apollo 参数参考范围汇总</h3><table class="range-table"><thead><tr><th>参数类型</th><th>应用场景</th><th>推荐范围</th></tr></thead><tbody><tr><td rowspan="3" class="font-medium">闪光指数</td><td>小型闪光灯</td><td>10-30</td></tr><tr><td>中型闪光灯</td><td>30-50</td></tr><tr><td>大型影室灯</td><td>50-100</td></tr><tr><td rowspan="3" class="font-medium">闪光灯功率</td><td>近距离补光</td><td>1-25%</td></tr><tr><td>常规拍摄</td><td>25-75%</td></tr><tr><td>远距离/强光</td><td>75-100%</td></tr><tr><td rowspan="3" class="font-medium">拍摄距离</td><td>微距/特写</td><td>0.5-1.5m</td></tr><tr><td>人像/产品</td><td>1.5-5m</td></tr><tr><td>群体/环境</td><td>5-10m</td></tr><tr><td rowspan="3" class="font-medium">ISO值</td><td>低噪点/静态</td><td>100-400</td></tr><tr><td>常规拍摄</td><td>400-800</td></tr><tr><td>低光/动态</td><td>800-3200</td></tr><tr><td rowspan="3" class="font-medium">快门速度</td><td>高速同步</td><td>1/1000s以上</td></tr><tr><td>常规同步</td><td>1/125-1/250s</td></tr><tr><td>慢速同步</td><td>1/60s以下</td></tr><tr><td rowspan="3" class="font-medium">光圈值</td><td>浅景深/弱光</td><td>f/1.8-f/4</td></tr><tr><td>常规拍摄</td><td>f/4-f/8</td></tr><tr><td>大景深/强光</td><td>f/8-f/16</td></tr></tbody></table></div></div></div><footer class="text-center text-gray-500 text-sm mt-6"><p>Apollo 闪光灯曝光计算器 | 摄影辅助工具</p></footer></div><script>const commonApertures=[.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.5,2.8,3.2,3.5,4,4.5,5,5.6,6.3,7.1,8,9,10,11,13,14,16,18,20,22,25,29,32];let shutterMode="fraction";const typicalSyncSpeed=.004,safeShutterSpeed=.033;let isCalculating=!1,lastUpdatedParam=null,isTyping=!1,calculationDebounceTimer=null;const gnInput=document.getElementById("gn"),powerInput=document.getElementById("power"),distanceInput=document.getElementById("distance"),isoInput=document.getElementById("iso"),shutterInput=document.getElementById("shutter"),apertureInput=document.getElementById("aperture"),minApertureInput=document.getElementById("minAperture"),maxApertureInput=document.getElementById("maxAperture"),resetBtn=document.getElementById("resetBtn"),syncWarning=document.getElementById("syncWarning"),tripodWarning=document.getElementById("tripodWarning"),powerWarning=document.getElementById("powerWarning"),exposureStatus=document.getElementById("exposureStatus"),exposureDetails=document.getElementById("exposureDetails"),resultContainer=document.querySelector(".result"),allInputs=[gnInput,powerInput,distanceInput,isoInput,shutterInput,apertureInput],shutterFractionBtn=document.getElementById("shutterFractionBtn"),shutterSecondBtn=document.getElementById("shutterSecondBtn"),currentApertureDisplay=document.getElementById("currentApertureDisplay"),currentShutterDisplay=document.getElementById("currentShutterDisplay"),currentIsoDisplay=document.getElementById("currentIsoDisplay"),currentDistanceDisplay=document.getElementById("currentDistanceDisplay"),currentPowerDisplay=document.getElementById("currentPowerDisplay");function formatShutterSpeed(e,t){return"second"===t?`${e}s`:`1/${e}s`}function getShutterInSeconds(e,t){return"second"===t?parseFloat(e):1/parseFloat(e)}function toggleShutterMode(e){if(e===shutterMode)return;"fraction"===e?(shutterFractionBtn.classList.add("active"),shutterFractionBtn.setAttribute("aria-pressed","true"),shutterSecondBtn.classList.remove("active"),shutterSecondBtn.setAttribute("aria-pressed","false")):(shutterSecondBtn.classList.add("active"),shutterSecondBtn.setAttribute("aria-pressed","true"),shutterFractionBtn.classList.remove("active"),shutterFractionBtn.setAttribute("aria-pressed","false"));const t="fraction"===e?shutterFractionBtn:shutterSecondBtn;t.classList.add("scale-105"),setTimeout((()=>{t.classList.remove("scale-105")}),200);const n=parseFloat(shutterInput.value)||1;let a;"second"===e&&"fraction"===shutterMode?(a=1/n,a=a<1?Math.round(1e4*a)/1e4:Math.round(10*a)/10):(a=1/n,a=Math.min(Math.round(a),3e4)),shutterMode=e,shutterInput.value=a,calculateExposure("shutter")}function validateAndFixParams(e=!1){let t=!1,n=parseFloat(gnInput.value)||1;n=Math.max(1,Math.min(100,n)),e||(gnInput.value=n.toFixed(1));let a=parseInt(powerInput.value)||1;a<1||a>100?(a=Math.max(1,Math.min(100,a)),e||(powerInput.value=a),powerWarning.classList.remove("hidden"),t=!0,powerInput.classList.add("input-warning")):(powerWarning.classList.add("hidden"),powerInput.classList.remove("input-warning"));let r=parseFloat(distanceInput.value)||.1;r=Math.max(.1,Math.min(20,r)),e||(distanceInput.value=r.toFixed(1));let u=parseInt(isoInput.value)||100;u=Math.max(100,Math.min(6400,u)),u=100*Math.round(u/100),e||(isoInput.value=u);let s=parseFloat(shutterInput.value)||250;"fraction"===shutterMode?(s=Math.max(1,Math.min(3e4,s)),e||(shutterInput.value=Math.round(s))):(s=Math.max(.1,Math.min(30,s)),e||(shutterInput.value=s.toFixed(1)));let i=parseFloat(apertureInput.value)||2.8;i=Math.max(.7,Math.min(32,i)),e||(apertureInput.value=i.toFixed(1));let o=parseFloat(minApertureInput.value)||1.8,l=parseFloat(maxApertureInput.value)||16;return o=Math.max(.7,Math.min(32,o)),l=Math.max(.7,Math.min(32,l)),o>=l&&(l=o+1,e||(maxApertureInput.value=l.toFixed(1))),e||(minApertureInput.value=o.toFixed(1),maxApertureInput.value=l.toFixed(1)),{powerWarningShown:t}}function checkShutterConditions(){const e=getShutterInSeconds(parseFloat(shutterInput.value),shutterMode);let t=!0,n=!1;return e<typicalSyncSpeed?(shutterInput.classList.add("status-border-danger"),syncWarning.classList.remove("hidden"),t=!1):(shutterInput.classList.remove("status-border-danger"),syncWarning.classList.add("hidden")),e>safeShutterSpeed?(shutterInput.classList.add("status-border-warning"),tripodWarning.classList.remove("hidden"),n=!0):(shutterInput.classList.remove("status-border-warning"),tripodWarning.classList.add("hidden")),{syncOk:t,tripodNeeded:n,shutterSeconds:e}}function getClosestAperture(e){return commonApertures.reduce(((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t))}function constrainAperture(e){const t=parseFloat(minApertureInput.value)||1.8,n=parseFloat(maxApertureInput.value)||16;return Math.max(t,Math.min(n,e))}function clearHighlights(){allInputs.forEach((e=>{e.classList.remove("recently-updated")}))}function highlightUpdatedParam(e){clearHighlights();const t=document.getElementById(e);t&&(t.classList.add("recently-updated"),setTimeout((()=>{t.classList.remove("recently-updated")}),3e3))}function updateKeyParamsDisplay(e,t,n,a,r){currentApertureDisplay.textContent=`f/${e.toFixed(1)}`,currentShutterDisplay.textContent=formatShutterSpeed(t,shutterMode),currentIsoDisplay.textContent=n,currentDistanceDisplay.textContent=`${a.toFixed(1)}米`,currentPowerDisplay.textContent=`${r}%`}function calculateExposure(e,t=!1){if(isCalculating)return;isCalculating=!0;const{powerWarningShown:n}=validateAndFixParams(t);e&&(lastUpdatedParam=e,highlightUpdatedParam(e));let a=parseFloat(gnInput.value),r=parseFloat(powerInput.value)/100,u=parseFloat(distanceInput.value),s=parseInt(isoInput.value),i=parseFloat(shutterInput.value),o=parseFloat(apertureInput.value);parseFloat(minApertureInput.value),parseFloat(maxApertureInput.value);const l=getShutterInSeconds(i,shutterMode),c=Math.sqrt(s/100),d=Math.sqrt(.01/l),p=a*r*c*d/u;if(!isTyping){switch(e){case"gn":case"distance":case"aperture":r=o*u/(a*c*d),r=Math.min(1,Math.max(.01,r)),powerInput.value=Math.round(100*r);break;case"iso":case"shutter":r=o*u/(a*c*d),(r<.01||r>1)&&(r=Math.min(1,Math.max(.01,r)),o=a*r*c*d/u,o=getClosestAperture(constrainAperture(o)),apertureInput.value=o.toFixed(1)),powerInput.value=Math.round(100*r);break;case"power":o=p,o=getClosestAperture(constrainAperture(o)),apertureInput.value=o.toFixed(1);break;case"minAperture":case"maxAperture":o=getClosestAperture(constrainAperture(p)),apertureInput.value=o.toFixed(1),r=o*u/(a*c*d),r=Math.min(1,Math.max(.01,r)),powerInput.value=Math.round(100*r)}t||(validateAndFixParams(),i=parseFloat(shutterInput.value),r=parseInt(powerInput.value),o=parseFloat(apertureInput.value))}const{syncOk:m,tripodNeeded:h}=checkShutterConditions();updateKeyParamsDisplay(o,i,s,u,r),exposureStatus.textContent="曝光平衡",exposureStatus.className="text-[clamp(1.5rem,4vw,2.5rem)] font-bold text-success";let I=e?`基于${getParamDisplayName(e)}的调整已优化其他参数`:"所有参数已优化至平衡状态";r<5?I+=" - 注意：闪光灯功率过低，可能影响曝光稳定性":r>95&&(I+=" - 注意：闪光灯已使用最大功率，建议增加距离或减小光圈"),m||(I+=" - 注意：超过标准同步速度，可能导致黑边"),h&&(I+=" - 提示：使用三脚架避免手抖模糊"),n&&(I+=" - 已自动修正超出范围的功率值"),exposureDetails.textContent=I,isTyping||(resultContainer.classList.add("scale-105","shadow-md"),setTimeout((()=>{resultContainer.classList.remove("scale-105","shadow-md")}),300)),isCalculating=!1}function getParamDisplayName(e){return{gn:"闪光指数",power:"闪光灯功率",distance:"拍摄距离",iso:"ISO值",shutter:"快门速度",aperture:"光圈值",minAperture:"最小光圈",maxAperture:"最大光圈"}[e]||e}function resetParameters(){calculationDebounceTimer&&(clearTimeout(calculationDebounceTimer),calculationDebounceTimer=null),gnInput.value=12,powerInput.value=100,distanceInput.value=2,isoInput.value=100,shutterInput.value=250,apertureInput.value=2.8,minApertureInput.value=1.8,maxApertureInput.value=16,shutterMode="fraction",shutterFractionBtn.classList.add("active"),shutterFractionBtn.setAttribute("aria-pressed","true"),shutterSecondBtn.classList.remove("active"),shutterSecondBtn.setAttribute("aria-pressed","false"),powerWarning.classList.add("hidden"),syncWarning.classList.add("hidden"),tripodWarning.classList.add("hidden"),allInputs.forEach((e=>{e.classList.remove("recently-updated","input-warning","status-border-danger","status-border-warning")})),lastUpdatedParam=null,isTyping=!1,calculateExposure()}function setupShutterModeToggle(){shutterFractionBtn.addEventListener("click",(()=>toggleShutterMode("fraction"))),shutterSecondBtn.addEventListener("click",(()=>toggleShutterMode("second"))),shutterFractionBtn.setAttribute("tabindex","0"),shutterSecondBtn.setAttribute("tabindex","0"),shutterFractionBtn.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),toggleShutterMode("fraction"))})),shutterSecondBtn.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),toggleShutterMode("second"))}))}const decimalInputs=[gnInput,distanceInput,apertureInput,minApertureInput,maxApertureInput];decimalInputs.forEach((e=>{e.addEventListener("focus",(()=>{isTyping=!0})),e.addEventListener("input",(e=>{""!==e.target.value&&"."!==e.target.value&&(calculationDebounceTimer&&clearTimeout(calculationDebounceTimer),calculationDebounceTimer=setTimeout((()=>{validateAndFixParams(!0),calculateExposure(e.target.id,!0)}),500))})),e.addEventListener("blur",(e=>{isTyping=!1,calculationDebounceTimer&&(clearTimeout(calculationDebounceTimer),calculationDebounceTimer=null),calculateExposure(e.target.id)})),e.addEventListener("keydown",(e=>{"Enter"===e.key&&(e.target.blur(),isTyping=!1,calculationDebounceTimer&&(clearTimeout(calculationDebounceTimer),calculationDebounceTimer=null),calculateExposure(e.target.id))}))}));const integerInputs=[powerInput,isoInput,shutterInput];integerInputs.forEach((e=>{e.addEventListener("input",(e=>{""!==e.target.value&&(calculationDebounceTimer&&clearTimeout(calculationDebounceTimer),calculationDebounceTimer=setTimeout((()=>{calculateExposure(e.target.id)}),300))})),e.addEventListener("change",(e=>{calculationDebounceTimer&&(clearTimeout(calculationDebounceTimer),calculationDebounceTimer=null),calculateExposure(e.target.id)}))})),resetBtn.addEventListener("click",resetParameters),window.addEventListener("load",(()=>{setupShutterModeToggle(),calculateExposure()}))</script></body></html>